@model Protocolo.Models.SearchFlow

<div id="fluxoProcesso" aria-hidden="true">
    <div class="modal-dialog" style="min-width: 1070px;">
        <div id="fluxoProcessoContent" class="modal-content" style="border: none; overflow-y: auto;">
            <div class="modal-body">

                <div class="col-md-12" style="margin-bottom: 30px;">

                    <table class="table">
                        <tr>
                            <td class="grid-report text-center" style="border: none; border-bottom: 1px solid #000;">
                                @if (Model.Instituicao == null)
                                {
                                    <h3>Relatório de Fluxo do Processo</h3>
                                }
                                else
                                {
                                    <img src="~/Instituicao/ViewLogomarca" width="85" height="90" alt="Logomarca" title="Logomarca" style="float: left;" />
                                    <div style="width: 900px;">
                                        <h2>@Html.Raw(Model.Instituicao.Nome)</h2>

                                        <h3>Relatório de Fluxo do Processo</h3>
                                    </div>
                                }
                            </td>
                        </tr>
                    </table>

                </div>

                <div class="col-md-12" style="margin-bottom: 15px; margin-top: -15px;">
                    <table class="table table-condensed" style="border: 1px solid #000;">
                        <tr>
                            <td style="border-bottom: none; border-top: 1px solid #000; width: 200px;">N° Processo</td>
                            <td style="border-bottom: none; border-top: 1px solid #000;">@Html.Raw(Model.NumeroAno)</td>
                        </tr>
                        <tr>
                            <td style="border-bottom: none; border-top: none;">Tipo de Documento</td>
                            <td style="border-bottom: none; border-top: none;">@Html.Raw(Model.TipoDocumento)</td>
                        </tr>
                        <tr>
                            <td style="border-bottom: none; border-top: none;">Assunto</td>
                            <td style="border-bottom: none; border-top: none;">@Html.Raw(Model.Assunto)</td>
                        </tr>
                        <tr>
                            <td style="border-top: none;">Requerente</td>
                            <td style="border-top: none;">@Html.Raw(Model.Requerente)</td>
                        </tr>
                    </table>
                </div>

                <div class="col-md-12">
                    <table class="table table-condensed" style="border: 1px solid #000; border-color: #000">
                        <thead>
                            <tr>
                                <th style="border: 1px solid #000;" colspan="2">
                                    FLUXO DO PROCESSO
                                </th>
                            </tr>
                            <tr style="background-color: #ccc;">
                                <th style="border: 1px solid #000; width: 430px;">
                                    SETOR
                                </th>
                                <th style="border: 1px solid #000; width: 100px;">
                                    DATA DE ENTRADA
                                </th>
                                <th style="border: 1px solid #000; width: 100px;">
                                    DATA DA SAÍDA
                                </th>
                                <th style="border: 1px solid #000; width: 180px;">
                                    USUÁRIO RECEBIMENTO
                                </th>
                                <th style="border: 1px solid #000; width: 180px;">
                                    TEMPO MÉDIO (DIAS)
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var fluxo in Model.FluxoProtocolo)
                            {
                                <tr>
                                    <td style="border: 1px solid #000;">
                                        @Html.Raw(fluxo.Setor.Nome)
                                    </td>
                                    <td style="border: 1px solid #000;">
                                        @Html.Raw(fluxo.DataEntrada.ToString("dd/MM/yyyy"))
                                    </td>
                                    <td style="border: 1px solid #000;">
                                        @Html.Raw(fluxo.DataSaida == null ? string.Empty : fluxo.DataSaida.Value.ToString("dd/MM/yyyy"))
                                    </td>
                                    <td style="border: 1px solid #000;">
                                        @Html.Raw(fluxo.UsuarioRecebimento == null ? string.Empty : fluxo.UsuarioRecebimento.Nome)
                                    </td>
                                    <td style="border: 1px solid #000;">
                                        @Html.Raw(fluxo.TempoMedio)
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

